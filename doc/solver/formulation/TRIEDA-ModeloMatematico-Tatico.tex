\documentclass[landscape, lettersize]{article}

\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsfonts}
\usepackage{epsfig}

\textheight 17.29cm
\textwidth 22.94cm 

\oddsidemargin -0.6mm
\evensidemargin -0.6mm

\topmargin -1.5cm
\begin{document}

\title{Trieda}

\author{Gapso}

\maketitle

\section{Módulo Tático}

\subsection{Notação}

\subsubsection{Conjuntos}

\begin{itemize}

\item $CP$ - Conjunto de campus. Os elementos desse conjunto são denotados por $cp$.

\item $U$ - Conjunto de unidades. Os elementos desse conjunto são denotados por $u$.

\item $S_{u}$ - Conjunto de salas da unidade $u$. Os elementos desse conjunto são denotados por $s$.

\item $SCAP_{u}$ - Conjunto de salas da unidade $u$ classificadas de acordo com as suas capacidades. Os elementos desse conjunto são denotados por $tps$.

\item $T$ - Conjunto de dias letivos da semana. Os elementos desse conjunto são denotados por $t$.

\item $C$ - Conjunto de cursos. Os elementos desse conjunto são denotados por $c$.

\item $CC$ - Conjunto de cursos compatíveis.

\item $D$ - Conjunto de disciplinas. Os elementos desse conjunto são denotados por $d$.

\item $B$ - Conjunto de blocos curriculares. Os elementos desse conjunto são denotados por $bc$.

\item $D_{bc}$ - Conjunto de disciplinas que pertencem ao bloco curricular $bc$. Os elementos desse conjunto são denotados por $d_{bc}$.

\item $I_{bc}$ - conjunto de turmas de um bloco curricular $bc$. Os elementos desse conjunto são denotados por $i_{bc}$.

\item $O$ - Conjunto de ofertas de cursos. Os elementos desse conjunto são denotados por $oft$.

\item $D_{oft}$ - conjunto de disciplinas de uma oferta $oft$. Os elementos desse conjunto são denotados por $d_{oft}$.

\item $O_{d}$ - conjunto de ofertas de uma uma disciplina $d$. Os elementos desse conjunto são denotados por $oft_{d}$.

\item $K_{d}$ - conjunto de combinações possíveis de divisão de créditos de uma uma disciplina $d$. Os elementos desse conjunto são denotados por $k$.

\end{itemize}

\newpage

\subsubsection{Dados do Modelo}

\begin{itemize}

\item $C_{d}$ - Total de créditos da disciplina $d$.

\item $\overline{H_{d}}$ - máximo de créditos diários da disciplina $d$.

\item $\underline{H_{d}}$ - mínimo de créditos diários da disciplina $d$.

\item $I_{d}$ - máximo de turmas que podem ser abertas da disciplina $d$.

\item $P_{d,c,cp}$ - demanda da disciplina $d$ no campus $cp$ para o curso $c$.

\item $P_{d,oft}$ - demanda da disciplina $d$ da oferta $oft$.

\item $Pmax_{d}$ - maior demanda da disciplina $d$.

\item $H_{t}$ - máximo de créditos permitidos por dia $t$.

\item $A_{u,s}$ - capacidade da sala $s$ da unidade $u$.

\item $HTPS_{t,tps}$ - máximo de créditos permitidos por dia $t$ para o conjunto de salas do tipo (capacidade) $tps$.

\item $A_{u,tps} $ - capacidade total das salas de um conjunto de salas do tipo (capacidade) $tps$ da unidade $u$.

\item $O_{cp}$ - conjunto de ofertas de um campus $cp$.

\item $FC_{d,t}$ - número de créditos fixados para a disciplina $d$ no dia $t$.

\item $N_{d,k,t}$ - número de créditos determinados para a disciplina $d$ no dia $t$ na combinação de divisão de crédito $k$.

\item $M$ - big $M$.

\item $\alpha, \beta, \gamma, \delta, \lambda, \rho, \xi, \psi$ - pesos associados a cada item da função objetivo.

\end{itemize}

\newpage

\subsection{Formulação}

\subsubsection{Variáveis}

\begin{itemize}

\item $x_{i,d,u,tps,t}$ - número de créditos da turma $i$ da disciplina $d$ na unidade $u$ em salas do tipo (capacidade) $tps$ no dia $t$. 

\item $o_{i,d,u,tps,t}$ - indica se a turma $i$ da disciplina $d$ foi alocada na unidade $u$ para alguma sala do tipo (capacidade) $tps$ no dia $t$.

\item $z_{i,d,cp}$ - indica se houve abertura da $i$-ésima turma da disciplina $d$ no campus $cp$.

\item $a_{i,d,oft}$ - número de alunos de uma oferta $oft$ alocados para a $i$-ésima turma da disciplina $d$.

\item $b_{i,d,c,cp}$ - indica se algum aluno do curso $c$ foi alocado para a $i$-ésima turma da disciplina $d$ no campus $cp$.

\item $w_{bc,t,cp}$ - indica o número sub-blocos abertos do bloco curricular $bc$ no dia $t$ no campus $cp$.

\item $r_{bc,t,cp}$ - indica se algum sub-bloco foi aberto do bloco curricular $bc$ no dia $t$ no campus $cp$.

\item $y_{i,d,tps,u}$ - indica que a turma $i$ da disciplina $d$ foi alocada em alguma sala do tipo $tps$ da unidade $u$.

\item $v_{bc,t}$ - contabiliza a abertura do mesmo bloco curricular $bc$, no mesmo dia $t$, em campus distintos.

\item $c_{i,d,t}$ - indica se houve abertura de turma $i$ da disciplina $d$ em dias consecutivos.

\item $\underline{h}_{bc,i}$ - mínimo de créditos alocados na semana na $i$-ésima turma do bloco $bc$.

\item $\overline{h}_{bc,i}$ - máximo de créditos alocados na semana na $i$-ésima turma do bloco $bc$.

\item $m_{d,i,k}$ - variável binária que indica se a combinação de divisão de créditos $k$ foi escolhida para a turma $i$ da disciplina $d$.

\item $fcp_{d,t}$ - variável de folga superior para a restrição de fixação da distribuição de créditos por dia.

\item $fcm_{d,t}$ - variável de folga inferior para a restrição de fixação da distribuição de créditos por dia.

\item $bs_{i,d,c,c',cp}$ - variável de folga para a restrição em que o compartilhamento de turmas de alunos de cursos diferentes é proibido.

\item $fd_{d,oft}$ - variável de folga para a restrição "Capacidade alocada tem que permitir atender demanda da disciplina".

\item $fk_{d,i,t}$ - variável de folga para a restrição de combinação de divisão de créditos.

\end{itemize}

\newpage

\subsubsection{Função Objetivo}

$$
\begin{array}{rll}
   \mbox{MIN} &
\alpha \cdot \sum\limits_{d \in D} 
\sum\limits_{cp \in CP}
\sum\limits_{i \in I_{d}}
 z_{i,d,cp}
      \\
      &
+ \gamma \cdot \sum\limits_{d \in D} 
\sum\limits_{cp \in CP}\sum\limits_{i \in I_{d}}

 \left(\frac{Pmax_{d} - \sum\limits_{c \in C}P_{d,c,cp}}{Pmax_{d}} \right) \cdot z_{i,d,cp}
\\
&
+ \beta \cdot \sum\limits_{bc \in B}
\sum\limits_{t \in T} v_{b,t}
\\
&
+ \delta \cdot \sum\limits_{d \in D} 
\sum\limits_{i \in I_{d}} \sum\limits_{t \in T-{1}} c_{i,d,t}
\\
&
+ \lambda \cdot \sum\limits_{bc \in B} 
\sum\limits_{i \in I_{d}, d \in D_{bc}} \left( \overline{h}_{bc,i} - \underline{h}_{bc,i} \right)
\\
&
+ \xi \cdot \sum\limits_{d \in D} 
\sum\limits_{t \in T} fcp_{d,t}
\\
&
+ \xi \cdot \sum\limits_{d \in D} 
\sum\limits_{t \in T} fcm_{d,t}
\\
&
+ \psi \cdot \sum\limits_{d \in D} 
\sum\limits_{t \in T} \sum\limits_{i \in I_{d}} fk_{d,i,k}
\\
&
+ \rho \cdot \sum\limits_{bc \in B}\sum\limits_{t \in T} (\sum\limits_{cp \in CP} w_{bc,t,cp})
\end{array}
$$

\subsubsection{Carga horária de todas as turmas de cada disciplina}

\begin{eqnarray}
\sum\limits_{u \in U}\sum\limits_{tps \in SCAP_{u}}\sum\limits_{t \in T} x_{i,d,u,tps,t}  =  C_{d} \cdot z_{i,d,cp} \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad 
\forall cp \in CP 
\end{eqnarray}

\subsubsection{Máximo de créditos por sala e dia}

\begin{eqnarray}
\sum\limits_{d \in D}\sum\limits_{i \in I_{d}} x_{i,d,u,tps,t} \leq  HTPS_{t,tps} \nonumber \qquad 
\forall u \in U \quad
\forall tps \in SCAP_{u} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Mínimo de créditos diários da disciplina (*)}

\begin{eqnarray}
\underline{H_{d}} \cdot o_{i,d,u,tps,t}  \leq  x_{i,d,u,tps,t}  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall tps \in SCAP_{u} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Ativação da variável $o$}

\begin{eqnarray}
C_{d} \cdot o_{i,d,u,tps,t}  \geq  x_{i,d,u,tps,t}  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall tps \in SCAP_{u} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Evitar sobreposição de turmas da mesma disciplina}

\begin{eqnarray}
\sum\limits_{tps \in SCAP_{u}} o_{i,d,u,tps,t}  \leq  1  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Indicação de que uma turma de uma disciplina foi alocada em um determinado tipo de sala (*)}

\begin{eqnarray}
\sum\limits_{t \in T} o_{i,d,u,tps,t}  \leq  7 \cdot y_{i,d,tps,u}  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall s \in S_{u}
\forall tps \in SCAP_{u}
\end{eqnarray}

\subsubsection{Uma turma só pode ser alocada a um tipo de sala}

\begin{eqnarray}
\sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} y_{i,d,tps,u}  \leq  1 \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\end{eqnarray}

\subsubsection{Evitar alocação de turmas da mesma disciplina em campus diferentes}

\begin{eqnarray}
\sum\limits_{cp \in CP} z_{i,d,cp}  \leq  1  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d}
\end{eqnarray}

\subsubsection{Abertura de turmas de um mesmo bloco curricular}

\begin{eqnarray}
\sum\limits_{d \in D_{b}} \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{i \in I_{d}} o_{i,d,u,tps,t}  \leq M \cdot w_{bc,t,cp} \nonumber \qquad 
\forall bc \in B \quad
\forall cp \in CP \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Disciplinas de mesmo bloco não devem exceder máximo de créditos por dia}

\begin{eqnarray}
\sum\limits_{d \in D_{bc}} \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{i \in I_{d}} x_{i,d,u,tps,t}  \leq H_{t} \cdot w_{bc,t,cp}  \nonumber \qquad 
\forall bc \in B \quad
\forall cp \in CP
\forall t \in T \quad
\end{eqnarray}

\subsubsection{Contabiliza se há turmas do mesmo bloco curricular abertas no mesmo dia em unidades distintas}

\begin{eqnarray}
\sum\limits_{cp \in CP} r_{bc,t,cp} - 1  \leq v_{bc,t} \nonumber \qquad 
\forall bc \in B \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Limite de créditos diários de disciplina(*)}

\begin{eqnarray}
x_{i,d,u,tps,t}  \leq \overline{H_{d}}  \nonumber \qquad 
\forall d \in D \quad
\forall u \in U \quad
\forall tps \in SCAP_{u} \quad
\forall t \in T \quad
\forall i \in I_{d}
\end{eqnarray}

\subsubsection{Capacidade alocada tem que permitir atender demanda da disciplina}

\begin{eqnarray}
\sum\limits_{i \in I_{d}} a_{i,d,oft} + fd_{d,oft} =  P_{d,oft}  \nonumber \qquad 
\forall oft \in O
\forall d \in D_{oft} \quad
\end{eqnarray}

\subsubsection{Se alocar um conjunto de salas para uma turma, tem que respeitar capacidade total das salas pertencentes ao conjunto}

\begin{eqnarray}
\sum\limits_{c \in C} \sum\limits_{oft \in O_{d}} a_{i,d,oft}  \leq \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{t \in T} A_{u,tps} \cdot o_{i,d,u,tps,t} 
\nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall cp \in CP
\end{eqnarray}

\subsubsection{Capacidade total de um conjunto de salas de uma unidade}

\begin{eqnarray}
\sum\limits_{c \in C} \sum\limits_{oft \in O_{d}} a_{i,d,oft} \leq A_{u,tps} + M \cdot (1-o_{i,d,u,tps,t}) \nonumber \qquad
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall tps \in SCAP_{u} \quad
\forall cp \in CP \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Contabiliza se há turmas da mesma disciplina em dias consecutivos (*)}

\begin{eqnarray}
c_{i,d,t}  \geq \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}}(o_{i,d,u,tps,t} - o_{i,d,u,tps,t-1}) - 1  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall (t \geq 2) \in T
\end{eqnarray}

\subsubsection{Mínimo de créditos alocados para turmas de um bloco (*)}

\begin{eqnarray}
\underline{h}_{bc,i} \leq \sum\limits_{d \in D_{bc}} \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} x_{i,d,u,tps,t} \nonumber \qquad 
\forall bc \in B \quad
\forall i \in I_{oft} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Máximo de créditos alocados para turmas de um bloco (*)}

\begin{eqnarray}
\overline{h}_{bc,i} \geq \sum\limits_{d \in D_{bc}} \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} x_{i,d,u,tps,t} \nonumber \qquad 
\forall bc \in B \quad
\forall i \in I_{oft} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Contabiliza se houve aluno de determinado curso alocado em uma turma(*)}

\begin{eqnarray}
\sum\limits_{o \in O_{d}} a_{i,d,oft} \leq M \cdot b_{i,d,c,cp} \nonumber \qquad 
\forall cp \in CP
\forall c \in C \quad
\forall d \in D \quad
\forall i \in I_{d} \quad
\end{eqnarray}

\subsubsection{Não permitir que alunos de cursos diferentes compartilhem turmas(*)}

\begin{eqnarray} 
b_{i,d,c,cp} + b_{i,d,c',cp} - bs_{i,d,c,c',cp} \leq 1 \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall c,c' \notin CC \quad
\forall cp \in CP
\end{eqnarray}

\subsubsection{Fixação da distribuição de créditos por dia(*)}

\begin{eqnarray}
\sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{i \in I_{d}} x_{i,d,u,tps,t} + fcp_{d,t} - fcm_{d,t} = FC_{d,t}  \nonumber \qquad 
\forall d \in D \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Ativação da variável r}

\begin{eqnarray}
w_{bc,t,cp} \leq M \cdot r_{bc,t,cp} \nonumber \qquad 
\forall bc \in B \quad
\forall cp \in CP \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Limita a abertura de turmas}

\begin{eqnarray}
z_{i,d,cp} \leq \sum\limits_{oft \in O_{cp}} a_{i,d,oft}  \nonumber \qquad 
\forall cp \in CP \quad
\forall d \in D \quad
\forall i \in I_{d}
\end{eqnarray}

\subsubsection{Abertura sequencial de turmas}

\begin{eqnarray}
\sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{t \in T} o_{i,d,u,tps,t} \geq \sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} \sum\limits_{t \in T} o_{i',d,u,tps,t} \nonumber \qquad 
\forall d \in D \quad
\forall i,i' \in I_{d}
\end{eqnarray}

\subsubsection{Regra de divisão de créditos}

\begin{eqnarray}
\sum\limits_{u \in U} \sum\limits_{tps \in SCAP_{u}} x_{i,d,u,tps,t} = \sum\limits_{k \in K_{d}}N_{d,k,t} \cdot m_{d,i,k} + fk_{d,i,t} \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall t \in T
\end{eqnarray}

\subsubsection{Somente uma combinação de regra de divisão de créditos pode ser escolhida}

\begin{eqnarray}
\sum\limits_{k \in K_{d}} m_{d,i,k} \leq 1 \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d}
\end{eqnarray}

\subsubsection{Ativação da variável $y$}

\begin{eqnarray}
\sum\limits_{t \in T} o_{i,d,u,tps,t}  \geq  y_{i,d,tps,u}  \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall u \in U \quad
\forall s \in S_{u}
\forall tps \in SCAP_{u}
\end{eqnarray}

\clearpage
\end{document}
