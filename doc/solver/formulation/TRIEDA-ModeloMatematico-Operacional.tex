\documentclass[landscape, lettersize]{article}
\usepackage[dvips]{geometry} 
\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{epsfig}
%\usepackage[pdftex,hyperfigures]{hyperref}

\textheight 17.29cm
\textwidth 22.94cm 

\oddsidemargin -0.6mm
\evensidemargin -0.6mm

\topmargin -1.5cm
\begin{document}

\title{Trieda}

\author{Gapso}

\maketitle

\section{Módulo Operacional - Heurística}

\subsection{Notação}

\subsubsection{Conjuntos}

\begin{itemize}

\item $CP$ - Conjunto de campus. Os elementos desse conjunto são denotados por $cp$.

\item $U$ - Conjunto de unidades. Os elementos desse conjunto são denotados por $u$.

\item $S_{u}$ - Conjunto de salas da unidade $u$. Os elementos desse conjunto são denotados por $s$.

\item $SCAP_{u}$ - Conjunto de salas da unidade $u$ classificadas de acordo com as suas capacidades. Os elementos desse conjunto são denotados por $tps$.

\item $T$ - Conjunto de dias letivos da semana. Os elementos desse conjunto são denotados por $t$.

\item $C$ - Conjunto de cursos. Os elementos desse conjunto são denotados por $c$.

\item $CC$ - Conjunto de cursos compatíveis.

\item $D$ - Conjunto de disciplinas. Os elementos desse conjunto são denotados por $d$.

\item $P$ - Conjunto de professores. Os elementos desse conjunto são denotados por $p$.

\item $B$ - Conjunto de blocos curriculares. Os elementos desse conjunto são denotados por $bc$.

\item $D_{bc}$ - Conjunto de disciplinas que pertencem ao bloco curricular $bc$. Os elementos desse conjunto são denotados por $d_{bc}$.

\item $I_{bc}$ - conjunto de turmas de um bloco curricular $bc$. Os elementos desse conjunto são denotados por $i_{bc}$.

\item $O$ - Conjunto de ofertas de cursos. Os elementos desse conjunto são denotados por $oft$.

\item $D_{oft}$ - conjunto de disciplinas de uma oferta $oft$. Os elementos desse conjunto são denotados por $d_{oft}$.

\item $O_{d}$ - conjunto de ofertas de uma uma disciplina $d$. Os elementos desse conjunto são denotados por $oft_{d}$.

\item $K_{d}$ - conjunto de combinações possíveis de divisão de créditos de uma uma disciplina $d$. Os elementos desse conjunto são denotados por $k$.

\end{itemize}

\newpage

\subsubsection{Dados do Modelo}

\begin{itemize}

\item $C_{d}$ - Total de créditos da disciplina $d$.

\item $\overline{H_{d}}$ - máximo de créditos diários da disciplina $d$.

\item $\underline{H_{d}}$ - mínimo de créditos diários da disciplina $d$.

\item $I_{d}$ - máximo de turmas que podem ser abertas da disciplina $d$.

\item $P_{d,c,cp}$ - demanda da disciplina $d$ no campus $cp$ para o curso $c$.

\item $P_{d,oft}$ - demanda da disciplina $d$ da oferta $oft$.

\item $Pmax_{d}$ - maior demanda da disciplina $d$.

\item $H_{t}$ - máximo de créditos permitidos por dia $t$.

\item $A_{u,s}$ - capacidade da sala $s$ da unidade $u$.

\item $HTPS_{t,tps}$ - máximo de créditos permitidos por dia $t$ para o conjunto de salas do tipo (capacidade) $tps$.

\item $A_{u,tps} $ - capacidade total das salas de um conjunto de salas do tipo (capacidade) $tps$ da unidade $u$.

\item $O_{cp}$ - conjunto de ofertas de um campus $cp$.

\item $FC_{d,t}$ - número de créditos fixados para a disciplina $d$ no dia $t$.

\item $N_{d,k,t}$ - número de créditos determinados para a disciplina $d$ no dia $t$ na combinação de divisão de crédito $k$.

\item $M$ - big $M$.

\end{itemize}

\newpage

\subsection{Algoritmo}

\subsubsection{Representação da solução}

A representação de uma solução para o problema operacional será feita através de uma matriz $Q_{p \times t}$. O valor $q_{p,t} \in \left\{0,1,...,i\right\}$ de cada elemento da matriz representa a turma para a qual o professor $p$ está lecionando no período $t$. Exemplo:

\begin{table}[ht]
\centering % used for centering table
\begin{tabular}{|| c || c | c | c | c | c | c ||} 
\hline % inserts single horizontal line
Professor / Período & $1$ & $2$ & $3$ & $4$ & $5$ & $\cdots d \times h$ \\ [0.5ex] % inserts table
%heading
\hline % inserts single horizontal line
$1$ & $1$ & $0$ & $0$ & $2$ & $2$ & $\cdots$ \\ % inserting body of the table
$2$ & $0$ & $X$ & $X$ & $0$ & $1$ & $\cdots$ \\
$3$ & $X$ & $X$ & $1$ & $0$ & $3$ & $\cdots$ \\
$4$ & $0$ & $1$ & $0$ & $1$ & $0$ & $\cdots$ \\
$5$ & $0$ & $0$ & $2$ & $3$ & $X$ & $\cdots$ \\ [1ex] % [1ex] adds vertical space
\hline %inserts single line
\end{tabular}
\caption{Exemplo de matriz representando a solução} % title of Table
\label{table:nonlin} % is used to refer this table in the text
\end{table}

\subsubsection{Construtivo}

O algoritmo construtivo é bastante simples. A idéia é fazer sempre a alocação dos professores seguindo uma função de urgência que associa o professor $p$ a turma $i$ ($fu(p,i)$). A função de urgência vai retornar o professor mais difícil de ser alocado (segundo o critério adotado na mesma). Além disso, será inserido um fator de aletoriedade na função de forma a produzir soluções iniciais diversificadas.

\subsubsection{Função de prioridade $fu(p,i)$}

Essa função irá levar em conta os critérios definidos para dizer o quão difícil é alocar um professor a uma classe. A função é definida abaixo:

$fu(p,i) = z_{1} \times \alpha(p,i) + z_{2} \times \beta(p,i) + z_{3} \times \delta(p) + z_{4} \times \gamma(p,i) $, sendo que:

\begin{itemize}

\item $\alpha$ - fixação do professor $p$ a turma $i$.

\item $\beta(p,i)$ - preferência do professor $p$ para lecionar na turma $i$.

\item $\delta(p)$ - disponibilidade do professor $p$.

\item $\gamma(p,i)$ - disponibilidade do professor $p$ para lecionar na turma $i$.

\item $z_{1}, z_{2}, z_{3}, z_{4}$ - pesos de cada fator da função de urgência.

\end{itemize}


\subsubsection{Função de avaliação (FO)}
A função de avaliação é definida abaixo:

$FO = \min \sum\limits_{i \in 1,2, \cdots,16} c_{i} \times x{i}$, sendo que:

\begin{itemize}

\item $x_{1}$ - Violação de restrição de fixação.

\item $x_{2}$ - disciplina difícil em horários ruins.

\item $x_{3}$ - Violação do tempo de deslocamento viável (solução inviável).

\item $x_{4}$ - Tempo de deslocamento na solução.

\item $x_{5}$ - Violação de deslocamento por professor.

\item $x_{6}$ - Nota de avaliação do corpo docente.

\item $x_{7}$ - Custo do corpo docente.

\item $x_{8}$ - Gaps nos horários dos professores.

\item $x_{9}$ - Dias em que os professores ministram aulas.

\item $x_{10}$ - Violação da carga horária mínima do professor.

\item $x_{11}$ - Violação da alocação do professor na última aula de $D$ e primeira de $D+1$.

\item $x_{12}$ - Violação do percentual mínimo de mestres e doutores por curso.

\item $x_{13}$ - Violação do máximo de disciplinas por professor por curso.

\item $x_{14}$ - Violação da carga horária mínima por semana do professor.

\item $x_{15}$ - Violação da carga horária máxima por semana do professor.

\item $x_{16}$ - Violação da preferência para lecionar disciplinas.

\item $c_{1}, c_{2}, \cdots, c_{16}$ - pesos associados a cada item da função objetivo.

\end{itemize}

\pagebreak

\section{Módulo Operacional - Modelo Matemático}

\subsection{Notação}

\subsubsection{Conjuntos}

\begin{itemize}

\item $S$ - Conjunto de salas. Os elementos desse conjunto são denotados por $s$.

\item $T$ - Conjunto de dias letivos da semana. Os elementos desse conjunto são denotados por $t$.

\item $H$ - Conjunto de horários. Os elementos desse conjunto são denotados por $h$.

\item $D$ - Conjunto de disciplinas. Os elementos desse conjunto são denotados por $d$.

\item $P$ - Conjunto de professores. Os elementos desse conjunto são denotados por $p$.

\item $P_{m}$ - Conjunto de professores com título de mestre. Professores com título acima de mestre (doutores) não são incluídos aqui, somente no conjunto correspondente ao título máximo do professor. Os elementos desse conjunto são denotados por $p$.

\item $P_{d}$ - Conjunto de professores com título de doutor. Os elementos desse conjunto são denotados por $p$.

\item $PV$ - Conjunto de professores virtuais. Os elementos desse conjunto são denotados por $pv$.

\item $PV_{d}$ - Conjunto de professores virtuais doutores. Os elementos desse conjunto são denotados por $pv$.

\item $PV_{m}$ - Conjunto de professores virtuais mestres. Os elementos desse conjunto são denotados por $pv$.

\item $PV_{g}$ - Conjunto de professores virtuais gerais (nem mestres nem doutores). Os elementos desse conjunto são denotados por $pv$.

\item $B$ - Conjunto de blocos curriculares. Os elementos desse conjunto são denotados por $bc$.

\item $D_{bc}$ - Conjunto de disciplinas que pertencem ao bloco curricular $bc$. Os elementos desse conjunto são denotados por $d_{bc}$.

\item $I_{bc}$ - conjunto de turmas de um bloco curricular $bc$. Os elementos desse conjunto são denotados por $i$.

\item $I_{d}$ - conjunto de turmas de uma disciplina $d$. Os elementos desse conjunto são denotados por $i$.

\item $I_{d,c}$ - conjunto de turmas de uma disciplina $d$ que possui alunos do curso $c$. Os elementos desse conjunto são denotados por $i$.

\item $A$ - conjunto de aulas. Uma aula corresponde a um determinado número de créditos da turma $i$ disciplina $d$ que devem ser dados em um sala $s$ no dia $t$. Os elementos desse conjunto são denotados por $a$.

\item $A_{c}$ - conjunto de aulas que possuem alunos do curso $c$. Os elementos desse conjunto são denotados por $a$.

\item $F_{p,d,s,t,h}$ - conjunto de fixações do professor $p$ a disciplina $d$ na sala $s$ no dia $t$ no horário $h$. Os elementos desse conjunto são denotados por $f$.

\item $F_{p,d,t,h}$ - conjunto de fixações do professor $p$ a disciplina $d$ no dia $t$ no horário $h$. Os elementos desse conjunto são denotados por $f$.

\item $F_{p,d}$ - conjunto de fixações do professor $p$ a disciplina $d$. Os elementos desse conjunto são denotados por $f$.

\item $F_{p,d,s}$ - conjunto de fixações do professor $p$ a disciplina $d$ na sala $s$. Os elementos desse conjunto são denotados por $f$.

\item $F_{p,s}$ - conjunto de fixações do professor $p$ na sala $s$. Os elementos desse conjunto são denotados por $f$.

\item $Al$ - conjunto de alunos. 

\end{itemize}


\subsubsection{Dados do Modelo}

\begin{itemize}

\item $M$ - big $M$.

\item $\alpha$ - peso associado a função objetivo.

\item $\beta$ - peso associado a função objetivo.

\item $\gamma$ - peso associado a função objetivo.

\item $m(h)$ - dateTime do horario h convertida em minutos.

\end{itemize}



\subsubsection{Variáveis}

\begin{itemize}

\item $x_{p,a,h}$ - variável binária indicando que o professor $p$ foi alocado a aula $a$ no horário $h$.
\item $x_{pv,a,h}$ - variável binária indicando que o professor virtual $pv$ foi alocado a aula $a$ no horário $h$.
\item $y_{p,d,i}$ - variável binária indicando que o professor $p$ foi alocado a turma $i$ da disciplina $d$.
\item $z_{d,i,h}$ - variável binária indicando que o horário $h$ foi alocado para a turma $i$ da disciplina $d$.

%\item $f1_{p,d,s,t,h}$ - variável de folga para a restrição de fixação de professor $p$, disciplina $d$, sala $s$, dia $t$ e horário $h$. 
%\item $f2_{p,d,t,h}$ - variável de folga para a restrição de fixação de professor $p$, disciplina $d$, dia $t$ e horário $h$. 
%\item $f3_{p,d}$ - variável de folga para a restrição de fixação de professor $p$ e disciplina $d$. 
%\item $f4_{p,d,s}$ - variável de folga para a restrição de fixação de professor $p$, disciplina $d$ e sala $s$. 
%\item $f5_{p,s}$ - variável de folga para a restrição de fixação de professor $p$ e sala $s$. 

\item $w_{p,c}$ - variável binária indicando que o professor $p$ ministra aula para o curso $c$.
\item $fmm_{c}$ - variável de folga inteira para o mínimo de professores mestres em um curso $c$.
\item $fmd_{c}$ - variável de folga inteira para o mínimo de professores doutores em um curso $c$. 
\item $fchmp_{p}$ - variável de folga inteira para a carga horária mínima do professor $p$ na semana, em relação ao semestre anterior.
\item $fchip_{p}$ - variável de folga inteira para a carga horária mínima do professor $p$ na semana.
\item $fchsp_{p}$ - variável de folga inteira para a carga horária máxima do professor $p$ na semana.
\item $pt_{p,t}$ - variável binária que indica se o professor $p$ ministra aula no dia $t$.
\item $dpc_{p,d,c}$ - variável binária que indica se o professor $p$ ministra alguma aula da disciplina $d$ para o curso $c$.
\item $fmdpc_{p,c}$ - variável de folga inteira associada ao máximo de disciplinas que o professor $p$ pode ministrar para o curso $c$.
\item $fupap_{p,t}$ - variável de folga binária indicando se um professor $p$ ministra aula no último horário do dia $t$
 e no primeiro horário do dia seguinte $t+1$.
\item $fd_{a}$ - variável binária de folga de demanda da aula $a$.
\item $fh_{d,i,cp}$ - variável de folga inteira que indica se a turma $i$ da disciplina $d$ no campus $cp$ foi alocado a mais de um horário durante a semana.
\item $hip_{p,t}$ - variável inteira que indica o tempo de início da primeira aula ministrada pelo professor $p$ no dia $t$.
\item $hfp_{p,t}$ - variável inteira que indica o tempo de fim da última aula ministrada pelo professor $p$ no dia $t$.
\item $np_{c}$ - variável inteira que indica o número de professores reais alocados para o curso $c$.
\item $npv_{c}$ - variável inteira que indica o número de professores virtuais alocados para o curso $c$.
\item $npvm_{c}$ - variável inteira que indica o número de professores virtuais mestres alocados para o curso $c$.
\item $npvd_{c}$ - variável inteira que indica o número de professores virtuais doutores alocados para o curso $c$.
\item $npvg_{c}$ - variável inteira que indica o número de professores virtuais gerais (nem mestres nem doutores) alocados para o curso $c$.


\end{itemize}

\subsection{Formulação}

\subsubsection{Função Objetivo}

$$
\begin{array}{rll}
   \mbox{MIN} &
       + \alpha \cdot \sum\limits_{pv \in PV} \sum\limits_{a \in A} \sum\limits_{h \in H} x_{p,a,s,d,i,t,h}
      \\
      &
%       + \beta \cdot \sum\limits_{p \in P} \sum\limits_{d \in D} \sum\limits_{s \in S} \sum\limits_{t \in T} \sum\limits_{h \in H} f1_{p,d,s,t,h}
%      \\
%      &
%       + \beta \cdot \sum\limits_{p \in P} \sum\limits_{d \in D} \sum\limits_{t \in T} \sum\limits_{h \in H} f2_{p,d,t,h}
%      \\
%      &
%       + \beta \cdot \sum\limits_{p \in P} \sum\limits_{d \in D} f3_{p,d}
%      \\
%      &
%       + \beta \cdot \sum\limits_{p \in P} \sum\limits_{d \in D} \sum\limits_{s \in S} f4_{p,d,s}
%      \\
%      &
%       + \beta \cdot \sum\limits_{p \in P} \sum\limits_{s \in S} f5_{p,s}
%      \\
%      &
       + \sum\limits_{p \in P} \sum\limits_{i \in I_{d}} \sum\limits_{d \in D}
       ( ( 10 - nota ) * pesoNota + ( 10 - preferencia ) * pesoPreferencia + custoCred * nCredsDisc ) \cdot y_{p,d,i}
      \\ 
      &
       + \gamma \cdot \sum\limits_{p \in P} \sum\limits_{c \in C} fmdpc_{p,c}
      \\
      &
       + \gamma \cdot \sum\limits_{p \in P} fchmp_{p}
      \\                 
      &
       + \gamma \cdot \sum\limits_{p \in P} fchip_{p}
      \\
      &
       + \gamma \cdot \sum\limits_{p \in P} fchsp_{p}
      \\                       
      &
       + \gamma \cdot \sum\limits_{p \in P} \sum\limits_{t \in T} ( hfp_{p,t} - hip_{p,t} )
      \\                                         
      &
       + 1000000 \cdot \sum\limits_{c \in A} nroAlunosNaTurma_{a} \cdot fd_{a}
      \\  
      &      
       + \gamma \cdot \sum\limits_{d \in D} \sum\limits_{i \in I_{d}} \sum\limits_{cp \in Cp} fh_{d,i,cp}
      \\
      &
       + \sum\limits_{c \in C} npv_{c}
      \\   
      &
       + \gamma \cdot \sum\limits_{c \in C} npvm_{c}
      \\   
      &
       + \gamma \cdot \sum\limits_{c \in C} npvd_{c}
      \\               
      &
       + \gamma \cdot \sum\limits_{c \in C} npvg_{c}
      \\                     
      &
       (+-) \gamma \cdot \sum\limits_{p \in P} \sum\limits_{t \in T} pt_{p,t}
      \\   
      &
       + \gamma \cdot \sum\limits_{p \in P}\sum\limits_{t \in T} fupap_{p,t}
      \\                     

\end{array}
$$

\subsubsection{Alocação das aulas}

\begin{eqnarray}
\sum\limits_{p \in P}\sum\limits_{pv \in PV}\sum\limits_{h \in H} x_{p,a,s,d,i,t,h} + x_{pv,a,s,d,i,t,h} + fd_{a} =  1 \nonumber \qquad 
\forall a \in A 
\end{eqnarray}


\subsubsection{Uso das salas para cada horário}

\begin{eqnarray}
\sum\limits_{p \in P} \sum\limits_{pv \in PV} \sum\limits_{a \in A} \sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{p,a,h'} + x_{pv,a,h'} \leq  1 \nonumber \qquad 
\forall s \in S \quad
\forall t \in T \quad
\forall h \in H
\end{eqnarray}


\subsubsection{Uso dos professores para cada horário}

\begin{eqnarray}
\sum\limits_{a \in A} \sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{p,a,h'} \leq  1 \nonumber \qquad 
\forall p \in P \quad
\forall t \in T \quad
\forall h \in H
\end{eqnarray}

% VERIFICAR A MODELAGEM ABAIXO
%
%\subsubsection{Aulas de mesmo bloco para cada horário (Somente para otimização por bloco)}
%
%\begin{eqnarray}
%\sum\limits_{p \in P} \sum\limits_{pv \in PV} \sum\limits_{s \in S} \sum\limits_{a \in A} x_{p,a,s,d,i,t,h} + x_{pv,a,s,d,i,t,h} \leq  1 \nonumber \qquad 
%\forall bc \in B \quad
%\forall i \in I_{bc} \quad
%\forall t \in T \quad
%\forall h \in H
%\end{eqnarray}


\subsubsection{Aulas de mesmo aluno para cada horário (Somente para otimização por aluno)}

\begin{eqnarray}
\sum\limits_{p \in P} \sum\limits_{pv \in PV} \sum\limits_{a \in A} \sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}}
  x_{p,a,h'} + x_{pv,a,h'} \leq  1 \nonumber \qquad 
\forall al \in Al \quad
\forall t \in T \quad
\forall h \in H
\end{eqnarray}


\subsubsection{Calcula se um professor ministra as aulas de uma turma e disciplina}

\begin{eqnarray}
\sum\limits_{a \in A} \sum\limits_{s \in S} \sum\limits_{h \in H} x_{p,a,s,d,i,t,h} \leq  M \cdot y_{p,d,i} \nonumber \qquad 
\forall p \in P \quad
\forall d \in D \quad
\forall i \in I_{d}
\end{eqnarray}


\subsubsection{Somente um professor deve ser alocado para aulas de turma e disciplina}

\begin{eqnarray}
\sum\limits_{p \in P} y_{p,d,i} \leq 1 \nonumber \qquad
\forall d \in D \quad
\forall i \in I_{d}
\end{eqnarray}

% RESTRIÇÕES DE FIXAÇÕES ABAIXO ESTÃO ERRADAS. FIX-ME
%\subsubsection{Restrição de fixação de professor, disciplina, sala, dia e horário}
%
%\begin{eqnarray}
%\sum\limits_{i \in I_{d}}  x_{p,a,s,d,i,t,h} + f1_{p,d,s,t,h} =  1 \nonumber \qquad 
%\forall p \in P \quad
%\forall d \in D \quad
%\forall s \in S \quad
%\forall t \in T \quad
%\forall h \in H \quad
%\forall f \in F_{p,d,s,t,h}
%\end{eqnarray}
%
%\subsubsection{Restrição de fixação de professor, disciplina, dia e horário}
%
%\begin{eqnarray}
%\sum\limits_{i \in I_{d}} \sum\limits_{s \in S}  x_{p,a,s,d,i,t,h} + f2_{p,d,t,h} =  1 \nonumber \qquad 
%\forall p \in P \quad
%\forall d \in D \quad
%\forall t \in T \quad
%\forall h \in H \quad
%\forall f \in F_{p,d,t,h}
%\end{eqnarray}
%
%\subsubsection{Restrição de fixação de professor, disciplina}
%
%\begin{eqnarray}
%\sum\limits_{i \in I_{d}} y_{p,d,i} + f3_{p,d} =  1 \nonumber \qquad 
%\forall p \in P \quad
%\forall d \in D \quad
%\forall f \in F_{p,d}
%\end{eqnarray}
%
%\subsubsection{Restrição de fixação de professor, disciplina e sala}
%
%\begin{eqnarray}
%\sum\limits_{i \in I_{d}} y_{p,d,i} + f4_{p,d,s} =  1 \nonumber \qquad 
%\forall p \in P \quad
%\forall d \in D \quad
%\forall s \in S \quad
%\forall f \in F_{p,d,s}
%\end{eqnarray}
%
%\subsubsection{Restrição de fixação de professor e sala}
%
%\begin{eqnarray}
%\sum\limits_{d \in D} \sum\limits_{i \in I_{d}} \sum\limits_{t \in T} \sum\limits_{h \in H} \sum\limits_{(s1 \neq s) \in S}  x_{p,a,s1,d,i,t,h} - f5_{p,s} =  0 \nonumber \qquad 
%\forall p \in P \quad
%\forall s \in S \quad
%\forall f \in F_{p,s}
%\end{eqnarray}

\subsubsection{Restrição de horário de disciplina no dia associando x e z}

\begin{eqnarray}
\sum\limits_{p \in P} \sum\limits_{pv \in PV} \sum\limits_{s \in S}  x_{p,a,s,d,i,t,h} + x_{pv,a,s,d,i,t,h} \leq z_{d,i,h} \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d} \quad
\forall t \in T \quad
\forall h \in H 
\end{eqnarray}


\subsubsection{Restrição de horário de disciplina único na semana}

\begin{eqnarray}
\sum\limits_{h \in H} z_{d,i,h} - fh_{d,i,cp} \leq 1 \nonumber \qquad 
\forall d \in D \quad
\forall i \in I_{d}
\forall cp \in Cp
\end{eqnarray}


\subsubsection{Contabiliza se o professor ministra aula no dia, a fim de minimizar o número de dias}

\begin{eqnarray}
pt_{p,t} \ge \sum\limits_{a \in A}\sum\limits_{h \in H} x_{p,a,h} \nonumber \qquad 
\forall p \in P \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Contabiliza se o professor ministra aula no dia, a fim de maximizar o número de dias}

\begin{eqnarray}
pt_{p,t} \le \sum\limits_{a \in A}\sum\limits_{h \in H} x_{p,a,h} \nonumber \qquad 
\forall p \in P \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Contabiliza o número de professores reais no curso}

\begin{eqnarray}
\sum\limits_{p \in P} w_{p,c} = np_{c} \nonumber \qquad 
\forall c \in C
\end{eqnarray}


\subsubsection{Contabiliza o número de professores virtuais no curso}

\begin{eqnarray}
\sum\limits_{pv \in PV}\sum\limits_{a \in A_{c}}\sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{pv,a,h'} \le npv_{c} \nonumber \qquad 
\forall h \in H \quad
\forall c \in C \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Contabiliza o número de professores virtuais mestres no curso}

\begin{eqnarray}
\sum\limits_{pv \in PV_{m}}\sum\limits_{a \in A_{c}}\sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{pv,a,h'} \le npvm_{c} \nonumber \qquad 
\forall h \in H \quad
\forall c \in C \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Contabiliza o número de professores virtuais doutores no curso}

\begin{eqnarray}
\sum\limits_{pv \in PV_{d}}\sum\limits_{a \in A_{c}}\sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{pv,a,h'} \le npvd_{c} \nonumber \qquad 
\forall h \in H \quad
\forall c \in C \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Contabiliza o número de professores virtuais gerais no curso}

\begin{eqnarray}
\sum\limits_{pv \in PV_{g}}\sum\limits_{a \in A_{c}}\sum\limits_{\substack {h' \in H \\ h'\mbox{ sobrepoe }h}} x_{pv,a,h'} \le npvg_{c} \nonumber \qquad 
\forall h \in H \quad
\forall c \in C \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Garante o máximo de professores não mestres}

\begin{eqnarray}
\sum\limits_{p \in P_{g}} w_{p,c} \le (1-mm) \cdot (np_{c}+npv_{c}) \nonumber \qquad 
\forall c \in C \quad
\end{eqnarray}


\subsubsection{Garante o máximo de professores não doutores}

\begin{eqnarray}
\sum\limits_{p \in P_{g} \cup P_{m} } w_{p,c} \le (1-md) \cdot (np_{c}+npv_{c}) \nonumber \qquad 
\forall c \in C \quad
\end{eqnarray}


\subsubsection{Garantia do percentual mínimo de mestres}

\begin{eqnarray}
npvm_{c} + npvd_{c} + \sum\limits_{p \in P_{m}} w_{p,c} \ge mm_{c} \cdot (np_{c}+npv_{c}) \nonumber \qquad 
\forall c \in C \quad
\end{eqnarray}


\subsubsection{Garantia do percentual mínimo de doutores}

\begin{eqnarray}
npvd_{c} + \sum\limits_{p \in P_{d}} w_{p,c} \ge md_{c} \cdot (np_{c}+npv_{c}) \nonumber \qquad 
\forall c \in C \quad
\end{eqnarray}


\subsubsection{Consistência para o número de professores virtuais}

\begin{eqnarray}
npvg_{c} + npvm_{c} + npvd_{c} = npv_{c} \nonumber \qquad 
\forall c \in C \quad
\end{eqnarray}


\subsubsection{Calcula tempo de início da primeira aula do professor no dia}

\begin{eqnarray}
hip_{p,t} \le m(h) + M*( 1 - \sum\limits_{a \in A_{t}} x_{p,a,h} ) \nonumber \qquad 
\forall p \in P \quad
\forall t \in T \quad
\forall h \in H
\end{eqnarray}


\subsubsection{Calcula tempo de fim da última aula do professor no dia}

\begin{eqnarray}
hfp_{p,t} \ge m(h) + \sum\limits_{a \in A_{t}} x_{p,a,h} \nonumber \qquad 
\forall p \in P \quad
\forall t \in T \quad
\forall h \in H
\end{eqnarray}


\subsubsection{Consistência dos tempos de início de fim das aulas de um professor em uma dia}

\begin{eqnarray}
hip_{p,t} \le hfp_{p,t} \nonumber \qquad 
\forall p \in P \quad
\forall t \in T
\end{eqnarray}


\subsubsection{Evita que um professor seja alocado em aula do último horário do dia $d$ e do primeiro horário do dia seguinte $d+1$}

\begin{eqnarray}
\sum\limits_{a \in A_{t}} x_{p,a,hf} + \sum\limits_{a \in A_{t+1}} x_{p,a,hi} - fupap_{p,t} \le 1 \nonumber \qquad 
\forall p \in P \quad
\forall t \in T \quad 
hi \in H \mbox{, hi é o primeiro horário do dia} \quad 
hf \in H \mbox{, hf é o último horário do dia}
\end{eqnarray}


\subsubsection{Calcula se o professor está alocado para alguma aula do curso}

\begin{eqnarray}
\sum\limits_{i \in I_{d,c}}\sum\limits_{d \in D} y_{p,d,i} \le M \cdot w_{p,c} \nonumber \qquad 
\forall p \in P \quad
\forall c \in C
\end{eqnarray}


\subsubsection{Garante a carga horária mínima de um professor na semana em relação à carga horária do semestre anterior}

\begin{eqnarray}
\sum\limits_{i \in I_{d}}\sum\limits_{d \in D} nCreds_{d} \cdot y_{p,d,i} + fchm_{p} \ge chMinAnterior_{p} \nonumber \qquad 
\forall p \in P \quad
\end{eqnarray}


\subsubsection{Garante a carga horária mínima de um professor na semana}

\begin{eqnarray}
\sum\limits_{a \in A}\sum\limits_{h \in H} nCreds_{a} \cdot x_{p,a,h} + fchi_{p} \ge chMin_{p} \nonumber \qquad 
\forall p \in P \quad
\end{eqnarray}


\subsubsection{Garante a carga horária máxima de um professor na semana}

\begin{eqnarray}
\sum\limits_{a \in A}\sum\limits_{h \in H} nCreds_{a} \cdot x_{p,a,h} - fchs_{p} \le chMax_{p} \nonumber \qquad 
\forall p \in P \quad
\end{eqnarray}


\subsubsection{Calcula se um professor ministra a disciplina para o curso}

\begin{eqnarray}
\sum\limits_{i \in I_{d,c}} y_{p,d,i} \le nTurmas_{d} \cdot dpc_{p,c,d} \nonumber \qquad 
\forall p \in P \quad
\forall c \in C \quad
\forall d \in D
\end{eqnarray}    

\subsubsection{Garante o máximo de disciplinas ministradas por um professor por curso}

\begin{eqnarray}
\sum\limits_{d \in C} dpc_{p,c,d} - fmdpc_{p,c} \le MaxDiscProfCurso_{p,c} \nonumber \qquad 
\forall p \in P \quad
\forall c \in C
\end{eqnarray}
                             

\clearpage
\end{document}
